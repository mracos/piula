<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piula üíä - Medication Schedule Calculator</title>
    <meta name="description" content="Free medication schedule calculator. Calculate pill timing with custom intervals. Perfect for antibiotics, birth control, and daily medications.">
    <meta name="keywords" content="medication schedule calculator, pill reminder calculator, medicine timing, antibiotic schedule, medication planner, pill schedule, dosage timing">
    <meta name="author" content="Piula">

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Piula üíä - Medication Schedule Calculator">
    <meta property="og:description" content="Free medication schedule calculator. Calculate pill timing with custom intervals.">

    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üíä</text></svg>">

    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <main class="app">
        <header class="header">
            <div class="header-title">
                <div class="icon-container">üíä</div>
                <h1>Piula</h1>
            </div>
            <p class="subtitle">Free Medication Schedule Calculator - Calculate pill timing with custom intervals. Perfect for antibiotics, birth control & daily medications.</p>
        </header>

        <div class="calculator">
            <div>
                <div class="inputs-container">
                    <div class="input-card">
                        <label for="startTime">Start Time</label>
                        <input type="time" id="startTime" value="20:00">
                    </div>

                    <div class="input-card">
                        <label for="interval">Every X Hours</label>
                        <input type="number" id="interval" min="1" max="24" value="8">
                    </div>

                    <div class="input-card">
                        <label for="days">How Many Days</label>
                        <input type="number" id="days" min="1" max="30" value="7">
                    </div>

                    <div class="input-card picker-card">
                        <label>Total Pills</label>
                        <div class="wheel-picker" id="totalPillsPicker">
                            <div class="picker-fade picker-fade-top"></div>
                            <div class="picker-viewport">
                                <div class="picker-list" id="totalPillsList"></div>
                            </div>
                            <div class="picker-fade picker-fade-bottom"></div>
                            <div class="picker-highlight"></div>
                        </div>
                    </div>
                </div>

                <div class="export-section">
                    <button id="exportCalendar" class="export-button">
                        üìÖ Add to Calendar
                    </button>
                </div>
            </div>

            <div class="results">
                <div class="hours-section">
                    <h3>Daily Schedule</h3>
                    <div id="dailyHours" class="hours-grid"></div>
                </div>

                <div class="calendar-section">
                    <h3>Calendar Overview</h3>
                    <div id="calendar" class="calendar"></div>
                </div>
            </div>
        </div>

        <footer class="footer">
            <p>Made by <a href="https://mracos.com.br" target="_blank" rel="noopener">marcos ferreira</a></p>
        </footer>
    </main>

    <div id="exportModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <button class="modal-header-back" id="modalHeaderBack" aria-label="Back to options">‚Üê</button>
                    <h2>Export to Calendar</h2>
                    <button class="modal-close" id="closeModal" aria-label="Close">&times;</button>
                </div>
            <div class="modal-body">
                <div id="calendarOptionsView" class="modal-view active">
                    <div class="title-input-section">
                        <label for="eventTitle">Event Title</label>
                        <input type="text" id="eventTitle" placeholder="üíä Take Medication" value="üíä Take Medication" maxlength="100">
                    </div>
                    <p class="modal-description">Add your medication schedule to your calendar:</p>
                    <div class="calendar-options">
                        <button class="calendar-option" id="exportGoogle">
                            <span class="calendar-icon">üìÖ</span>
                            <div class="calendar-details">
                                <span class="calendar-name">Google Calendar</span>
                            </div>
                        </button>
                        <button class="calendar-option" id="exportICS">
                            <span class="calendar-icon">üì•</span>
                            <div class="calendar-details">
                                <span class="calendar-name">Download .ics File</span>
                                <span class="calendar-hint">Works with any calendar app</span>
                            </div>
                        </button>
                    </div>
                </div>

                <div id="googleLinksView" class="modal-view">
                    <p class="google-links-intro">Pick one of the scheduled times below to open it in Google Calendar. Each link already repeats daily at that hour until your treatment ends.</p>
                    <div id="googleSummary" class="google-summary"></div>
                    <div id="googleExplanation" class="google-explanation"></div>
                    <div id="googleWarning" class="google-warning" hidden></div>
                    <div id="googleLinksList" class="google-links-list"></div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>
